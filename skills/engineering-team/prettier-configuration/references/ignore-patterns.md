---
name: prettier-ignore-patterns
description: Comprehensive .prettierignore templates per project type.
---

# Prettier Ignore Patterns

`.prettierignore` tells Prettier which files and directories to skip. Without it, Prettier processes build output, coverage reports, lock files, and vendored code -- wasting time and producing meaningless diffs.

Prettier also respects `.gitignore` by default. Anything in `.gitignore` is already excluded. `.prettierignore` handles files that are tracked by git but should not be formatted.

## Base Template (All Projects)

Every project starts with this baseline. These entries are universal.

```
# Build output
dist/
build/
out/

# Dependencies
node_modules/

# Lock files -- tracked by git, but formatting them is pointless
pnpm-lock.yaml
package-lock.json
yarn.lock

# Test artifacts
coverage/

# Minified files -- formatting destroys them
*.min.js
*.min.css
*.min.mjs

# Generated type declarations (from bundlers)
*.d.ts
!src/**/*.d.ts
```

**Why each entry matters:**

- `dist/`, `build/`, `out/` -- Bundler output. Formatting it changes nothing useful and slows CI.
- `node_modules/` -- Already in `.gitignore` but worth being explicit if `.gitignore` is ever misconfigured.
- Lock files -- They are machine-generated. Formatting them produces large, meaningless diffs.
- `coverage/` -- Generated by test runners. Contains JSON, HTML, and LCOV files that should not be formatted.
- `*.min.*` -- Minified assets. Prettier would "unminify" them, breaking their purpose.
- `*.d.ts` -- Auto-generated type declarations from bundlers. The `!src/**/*.d.ts` exception keeps hand-written ambient declarations formattable.

## Node.js / TypeScript Project

Standard backend or library project.

```
# Base
dist/
build/
out/
node_modules/
pnpm-lock.yaml
package-lock.json
yarn.lock
coverage/
*.min.js
*.min.css

# TypeScript build info
*.tsbuildinfo

# Environment files (may contain secrets, do not reformat)
.env
.env.*

# Auto-generated API clients
src/generated/
```

## React / Next.js Project

```
# Base
dist/
build/
out/
node_modules/
pnpm-lock.yaml
package-lock.json
yarn.lock
coverage/
*.min.js
*.min.css

# Next.js
.next/
.vercel/

# Static export
out/

# Public assets (images, fonts, favicons)
public/

# Auto-generated types
next-env.d.ts

# Storybook build
storybook-static/

# Playwright
test-results/
playwright-report/
```

**Notes:**

- `.next/` is the Next.js build cache. Never format it.
- `public/` contains static assets. Prettier would try to parse binary files and fail.
- `next-env.d.ts` is auto-generated by Next.js on every build. Do not format it.
- `storybook-static/` is the Storybook production build.

## Astro Project

```
# Base
dist/
build/
node_modules/
pnpm-lock.yaml
package-lock.json
yarn.lock
coverage/
*.min.js
*.min.css

# Astro
.astro/

# Astro output
dist/

# Public assets
public/

# Content collections cache
.astro/
src/content/_generated/
```

## Monorepo (pnpm Workspaces / Turborepo)

```
# Base (root level)
node_modules/
pnpm-lock.yaml
coverage/
*.min.js
*.min.css

# Build output across all packages
**/dist/
**/build/
**/out/
**/.next/
**/.astro/

# Package-level artifacts
**/coverage/
**/storybook-static/
**/test-results/
**/playwright-report/

# Turborepo cache
.turbo/

# Public assets
**/public/

# Auto-generated
**/next-env.d.ts
**/*.tsbuildinfo
```

**Monorepo-specific considerations:**

- Use `**/` prefix to match across all workspace packages.
- The root `pnpm-lock.yaml` is the only lock file in a pnpm workspace.
- `.turbo/` is the Turborepo local cache directory.
- Each package may have its own `dist/` and `coverage/` directories.

## Verifying Your Ignore Patterns

After creating `.prettierignore`, verify it works:

```bash
# Dry run: list files Prettier would process
NODE_OPTIONS=--experimental-strip-types npx prettier --list-different .

# Check that ignored paths do not appear in the output
# If you see dist/, coverage/, or lock files, the ignore is wrong
```

## Relationship to `.gitignore`

Prettier reads `.gitignore` automatically (as of Prettier 2.x). Files already in `.gitignore` do not need to be repeated in `.prettierignore`. However:

- Files tracked by git but not meant for formatting (lock files, generated types) must go in `.prettierignore`.
- If you disable the `.gitignore` behavior with `--no-ignore`, you must duplicate everything in `.prettierignore`.
- In CI, if the checkout does not include a `.gitignore` (rare), `.prettierignore` is the only safeguard.
